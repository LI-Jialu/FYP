import pandas as pd 
from datetime import datetime  as dt 
import numpy as np
'''
df = pd.read_csv('./Data/BTCUSDT-1m-2021-10-02.csv', usecols=[0,1,4])
df.columns = ['timeStamp','Open','Close']
# df['date'] = [t for t in df['timeStamp']] 
# df.index_col = pd.to_datetime(df['date'])
print(df.head(10))

snapshot = pd.read_csv('./Data/bitmex_book_snapshot_25_2021-10-02_XBTUSD.csv', usecols = [2,4,6])
snapshot.columns = ['timeStamp','ask1','bid1']
# snapshot['date'] = [dt.fromtimestamp(t) for t in snapshot['timeStamp']] 
# snapshot.index_col = pd.to_datetime(snapshot['date'])'''
#                      1633132800004
print(str('1633132800004')[:-3]+'.'+str('1633132800004')[-3:])
                       # 1633132800118.000
print(dt.fromtimestamp(1633132800.004))
print(dt.fromtimestamp(1633132800.118000))
print(dt.fromtimestamp(1633132801.028740))

# print(snapshot.head(10))

# Binance Future BTC 
# Price 
'''
{'stream': 'btcusdt@markPrice@1s', 'data': {'e': 'markPriceUpdate', 'E': 1633132800004, 's': 'BTCUSDT', 'p': '48123.88852158', 'P': '48136.56992883', 'i': '48136.56992883', 'r': '0.00005277', 'T': 1633132800000}}
{'stream': 'btcusdt@markPrice@1s', 'data': {'e': 'markPriceUpdate', 'E': 1633132801007, 's': 'BTCUSDT', 'p': '48123.94000000', 'P': '48136.56992883', 'i': '48136.56992883', 'r': '0.00005277', 'T': 1633161600000}}
{'stream': 'btcusdt@markPrice@1s', 'data': {'e': 'markPriceUpdate', 'E': 1633132802000, 's': 'BTCUSDT', 'p': '48127.40938732', 'P': '48138.22706659', 'i': '48139.88420435', 'r': '0.00005277', 'T': 1633161600000}}
{'stream': 'btcusdt@markPrice@1s', 'data': {'e': 'markPriceUpdate', 'E': 1633132803000, 's': 'BTCUSDT', 'p': '48129.59986409', 'P': '48139.50960477', 'i': '48142.07468112', 'r': '0.00005277', 'T': 1633161600000}}
{'stream': 'btcusdt@markPrice@1s', 'data': {'e': 'markPriceUpdate', 'E': 1633132804000, 's': 'BTCUSDT', 'p': '48133.11310829', 'P': '48141.02918491', 'i': '48145.58792532', 'r': '0.00005277', 'T': 1633161600000}}

'''
# Depth Snap shot 
# snapshot_5 
# snapshot_25
'''
binance-futures	BTCUSDT	1633132800118000	1633132801028740	48123.93	6.141	48123.92	1.448	48124.94	0.286	48122.89	0.31	48125	0.001	48121.25	0.008	48125.4	0.058	48121.04	0.004	48127.6	0.155	48120.15	0.004	48128.55	0.3	48120.02	0.231	48128.57	0.626	48120.01	0.15	48128.58	0.06	48120	0.236	48129.38	0.4	48119.99	0.7	48129.42	1	48119.98	1.1	48129.55	2.638	48119.97	3.61	48130	6.017	48119.96	0.149	48130.51	0.27	48119.48	0.227	48130.78	0.002	48118.82	0.247	48131.2	0.104	48118.77	0.103	48131.67	0.333	48118.76	0.104	48132.74	0.453	48118.56	0.142	48132.77	0.083	48117.89	0.177	48133.6	0.475	48117.84	0.854	48133.61	0.042	48117.14	0.109	48133.84	0.07	48116.96	0.422	48133.94	0.001	48116.87	0.229	48134.09	0.623	48116.4	0.293	48134.64	0.24	48116.15	0.312	48134.67	0.006	48116.13	0.062
binance-futures	BTCUSDT	1633132801102000	1633132802780080	48123.93	6.141	48123.92	1.449	48124.94	0.286	48122.89	0.31	48125	0.001	48121.25	0.008	48125.4	0.058	48121.04	0.004	48127.6	0.155	48120.15	0.004	48128.55	0.3	48120.02	0.231	48128.57	0.626	48120.01	0.15	48128.58	0.06	48120	0.236	48129.38	0.4	48119.99	0.7	48129.42	1	48119.98	1.1	48129.55	2.638	48119.97	3.61	48130	6.017	48119.96	0.149	48130.51	0.27	48119.48	0.227	48130.78	0.002	48118.82	0.247	48131.2	0.104	48118.77	0.103	48131.67	0.333	48118.76	0.104	48132.74	0.453	48118.56	0.142	48132.77	0.083	48117.89	0.177	48133.6	0.475	48117.84	0.854	48133.61	0.042	48117.14	0.109	48133.84	0.07	48116.96	0.422	48133.94	0.001	48116.87	0.229	48134.09	0.623	48116.4	0.293	48134.64	0.24	48116.15	0.312	48134.67	0.006	48116.13	0.062
'''